
define(["j","app/evts"],function(f,l){var m=[],e="Gender Age Position Height Weight Sizes Pain".split(" "),k=null,g,n=function(b){b=b.target.id.toString();var a=SVG.get(b);a.hasClass("progress-"+a.data("nav").toLowerCase())&&TweenLite.to("#"+b,1,{scale:1.2,transformOrigin:"50% 50%",ease:Elastic.easeOut})},p=function(b){b=b.target.id.toString();var a=SVG.get(b);a.hasClass("progress-"+a.data("nav").toLowerCase())&&TweenLite.to("#"+b,1,{scale:1,transformOrigin:"50% 50%",ease:Elastic.easeOut})},h=function(b){var a=
SVG.get(b.target.id.toString()).data("nav");"undefined"===typeof a&&null==a&&(a=SVG.get(b.srcElement.parentElement.id).data("nav"));"undefined"!==typeof a&&null!=a&&k.setStep(a)},q=function(){for(var b=k.getStep(),a=!1,c=0;c<e.length;c++){var d=SVG.get("navBtnText"+c),g=SVG.get(e[c]+"Hex"),h=SVG.get("nBtn"+c);b.key==e[c]?(a=!0,d.addClass("pointer"),d.addClass("selected-nav"),g.removeClass("init-progress-"+e[c].toLocaleLowerCase()).addClass("progress-"+e[c].toLocaleLowerCase()),h.fill("#FFF"),h.addClass("pointer")):
d.hasClass("selected-nav")&&d.removeClass("selected-nav")}a?(f("#menu").removeClass("menu-bg"),f("#nav").show()):(f("#menu").addClass("menu-bg"),f("#nav").hide())};removeEvents=function(){null!=g&&g();g=null};return{initUI:function(b){k=b;removeEvents();g=l.subscribe("newStep",q);f("#menu").addClass("menu-bg");f("#nav").hide();var a=document.getElementById("nav");b=a.children[0];SVG(a).size(180,630).viewbox(0,0,180,630).line(45,45,45,585).addClass("initNavLine");for(a=0;a<e.length;a++){var c=document.createElement("li");
b.appendChild(c);var c=SVG(c).size(180,90),d=e[a];c.polygon("76,62.5 45,80 15,62.5 15,27.5 45,10 76,27.5").addClass("initHex").attr("data-nav","bText").addClass("init-progress-"+d.toLowerCase()).id(d+"Hex").data("nav",d).on("click",h).on("mouseover",n).on("mouseout",p);c.text("").tspan(a+1+"").id("nBtn"+a).y(51).x(40).data("nav",d).addClass("initNavNumbers").on("click",h);c.text("").tspan(e[a]).id("navBtnText"+a).y(51).x(100).addClass("initNavText").addClass("unselected-nav").data("nav",d).on("click",
h);m.push(c)}}}});
